@model Portal_2_0.Models.empleados

@{
    ViewBag.Title = "Organigrama";
    ViewBag.PrimerNivel = "recursos_humanos";
    ViewBag.SegundoNivel = "empleados";
    ViewBag.ControllerName = "Empleados";

}

@section estilos
{
    <link href="~/Content/vendors/OrgChart/css/jquery.orgchart.css" rel="stylesheet" />
    <link href="~/Content/vendors/OrgChart/css/style.css" rel="stylesheet" />
    <style type="text/css">
        #chart-container {
            height: 620px;
        }

        .orgchart {
            background: white;
        }

        .orgchart {
            background: #fff;
        }

        .orgchart .thyssen-level .title {
            background-color: #009ff5;
        }

        .orgchart .thyssen-level .content {
            border-color: #009ff5;
        }
    </style>
}


<div class="right_col" role="main">
    <div class="">

        <div class="clearfix"></div>

        <div class="row">
            <div class="col-md-12 col-sm-12  ">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>@ViewBag.Title</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div id="chart-container"></div>
                    </div>
                </div>
                <div>
                    <br />
                    <a href="@Url.Action("Index", ViewBag.ControllerName)" class="btn btn-round btn-info btm-sm" title="Volver">
                        <i class="fa fa-arrow-circle-left"></i> Volver al listado
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/es6-promise/4.1.1/es6-promise.auto.min.js"></script>
    <script src="~/Content/vendors/OrgChart/js/html2canvas.js"></script>
    <script src="~/Content/vendors/OrgChart/js/jquery.orgchart.js"></script>
    <script>

        $(document).ready(function () {

        });
        window.onload = function () {
            clicMenu(1);
        }

    </script>

    <script type="text/javascript">
        $(function () {

            var datascource = {
                'name': 'Lao Lao',
                'title': 'general manager',
                'className': 'thyssen-level',
                'children': [
                    { 'name': 'Bo Miao', 'title': 'department manager', 'className':'thyssen-level' },
                    {
                        'name': 'Su Miao', 'title': 'department manager',
                        'children': [
                            { 'name': 'Tie Hua', 'title': 'senior engineer' },
                            {
                                'name': 'Hei Hei', 'title': 'senior engineer',
                                'children': [
                                    { 'name': 'Pang Pang', 'title': 'engineer' },
                                    {
                                        'name': 'Dan Dan', 'title': 'UE engineer',
                                        'children': [
                                            { 'name': 'Er Dan', 'title': 'engineer' },
                                            {
                                                'name': 'San Dan', 'title': 'engineer',
                                                'children': [
                                                    { 'name': 'Si Dan', 'title': 'intern' },
                                                    { 'name': 'Wu Dan', 'title': 'intern' }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    { 'name': 'Hong Miao', 'title': 'department manager' },
                    {
                        'name': 'Chun Miao', 'title': 'department manager',
                        'children': [
                            { 'name': 'Bing Qin', 'title': 'senior engineer' },
                            {
                                'name': 'Yue Yue', 'title': 'senior engineer',
                                'children': [
                                    { 'name': 'Er Yue', 'title': 'engineer' },
                                    { 'name': 'San Yue', 'title': 'UE engineer' }
                                ]
                            }
                        ]
                    },
                    {
                        'name': 'Chun Miao', 'title': 'department manager',
                        'children': [
                            { 'name': 'Bing Qin', 'title': 'senior engineer' },
                            {
                                'name': 'Yue Yue', 'title': 'senior engineer',
                                'children': [
                                    { 'name': 'Er Yue', 'title': 'engineer' },
                                    { 'name': 'San Yue', 'title': 'UE engineer' }
                                ]
                            }
                        ]
                    },
                    {
                        'name': 'Chun Miao', 'title': 'department manager',
                        'children': [
                            { 'name': 'Bing Qin', 'title': 'senior engineer' },
                            {
                                'name': 'Yue Yue', 'title': 'senior engineer',
                                'children': [
                                    { 'name': 'Er Yue', 'title': 'engineer' },
                                    { 'name': 'San Yue', 'title': 'UE engineer' }
                                ]
                            }
                        ]
                    }


                ]
            };

            var oc = $('#chart-container').orgchart({
                'data': datascource,
                'nodeContent': 'title',
                'pan': true,
                'zoom': true,
                'exportButton': true,
                'exportFilename': 'Organigrama'
            });

            $(window).resize(function () {
                var width = $(window).width();
                if (width > 576) {
                    oc.init({ 'verticalLevel': undefined });
                } else {
                    oc.init({ 'verticalLevel': 2 });
                }
            });

        });
    </script>
}