@model IEnumerable<Portal_2_0.Models.CTZ_Projects>
@{
    ViewBag.Title = "Estatus de Cotizaciones";
    ViewBag.PrimerNivel = "cotizador";
    ViewBag.SegundoNivel = "index_cotizaciones";
    ViewBag.ControllerName = ViewContext.RouteData.Values["controller"];
    ViewBag.nav_style = "nav-sm";
}

@section estilos
{
    <style>
        /* Contenedor principal de filtros */
        .filter-panel {
            background-color: #f7f7f7;
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 20px;
        }

            .filter-panel h4 {
                margin-top: 0;
                font-weight: 600;
                color: #333;
            }

            /* Botones de filtros */
            .filter-panel .btn-filter {
                margin-top: 22px;
            }

        /* Estilos para la tabla */
        table thead th {
            background-color: #2A3F54;
            color: #fff;
            text-align: center;
            vertical-align: middle;
        }

        table tbody td {
            vertical-align: middle;
            text-align: center;
        }

        /* Etiquetas de estatus */
        .status-badge {
            padding: 5px 10px;
            border-radius: 3px;
            color: #fff;
            font-weight: 600;
            display: inline-block;
        }

        .status-inprocess {
            background-color: #f0ad4e; /* amarillo */
        }

        .status-finalized {
            background-color: #5cb85c; /* verde */
        }

        .status-hold {
            background-color: #d9534f; /* rojo */
        }

        .status-other {
            background-color: #5bc0de; /* azul */
        }

        /* Espaciado en botones de acciones */
        .action-btns .btn {
            margin-right: 5px;
        }

        /* Estilos para el "código de colores" */
        .color-code-box {
            margin-top: 10px;
            padding: 10px;
            border: 1px dashed #ccc;
            background-color: #f9f9f9;
        }

        .color-code-item {
            display: inline-block;
            margin-right: 15px;
        }

        .color-code-square {
            display: inline-block;
            width: 16px;
            height: 16px;
            margin-right: 5px;
            vertical-align: middle;
        }
    </style>
}

<div class="right_col" role="main">
    <div class="">
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>@ViewBag.Title</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">

                        <!-- Panel de Filtros -->
                        <div class="filter-panel">
                            <h4>Filtros de búsqueda</h4>
                            <div class="row">
                                <!-- Status checkboxes (demostración) -->
                                <div class="col-md-4">
                                    <label>Status:</label><br />
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="status" value="all" checked="checked" /> Todos
                                    </label>
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="status" value="inprocess" /> En Proceso
                                    </label>
                                    <label class="checkbox-inline">
                                        <input type="checkbox" name="status" value="finalized" /> Finalizadas
                                    </label>
                                </div>
                                <!-- Rango de fechas (demostración) -->
                                <div class="col-md-3">
                                    <label for="fechaInicio">Fecha Inicio:</label>
                                    <input type="date" class="form-control" id="fechaInicio" />
                                </div>
                                <div class="col-md-3">
                                    <label for="fechaFin">Fecha Fin:</label>
                                    <input type="date" class="form-control" id="fechaFin" />
                                </div>
                                <div class="col-md-2">
                                    <button class="btn btn-primary btn-filter" style="margin-top: 24px;">Buscar</button>
                                </div>
                            </div>
                            <hr />
                            <div class="row">
                                <div class="col-md-3">
                                    <label for="searchBox">Búsqueda general:</label>
                                    <input type="text" class="form-control" id="searchBox" placeholder="Folio, cliente, etc." />
                                </div>
                                <div class="col-md-3">
                                    <button class="btn btn-info btn-filter" style="margin-top: 24px;">Borrar filtro</button>
                                </div>
                            </div>
                        </div>

                        <!-- Tabla de resultados -->
                        <div class="table-responsive">
                            <table class="table table-striped table-bordered">
                                <thead>
                                    <tr>
                                        <th>Acciones</th>
                                        <th>Folio</th>
                                        <th>Cliente</th>
                                        <th>Días en Proceso</th>
                                        <!-- Columnas para cada departamento -->
                                        <th>Ingeniería</th>
                                        <th>Data Management</th>
                                        <th>Ventas</th>
                                        <th>Compras MP</th>
                                        <th>Compras Insumos</th>
                                        <th>Comercio Ext.</th>
                                        <th>Estatus</th>
                                        <th>Comentarios</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Ejemplo con datos fijos de demostración -->
                                    <tr>
                                        <td class="action-btns">
                                            <button class="btn btn-xs btn-info" title="Ver detalle"><i class="fa fa-eye"></i></button>
                                            <button class="btn btn-xs btn-warning" title="Editar"><i class="fa fa-pencil"></i></button>
                                        </td>
                                        <td>TKMM_SILAO_OWN_BENTELER_DE_MEXICO_CONSTRUCCIÓN_V_0.1</td>
                                        <td>BENTELER DE MEXICO</td>
                                        <td>2</td>
                                        <td>Asignado (2 días)</td>
                                        <td>Pendiente</td>
                                        <td>Asignado (1 día)</td>
                                        <td>N/A</td>
                                        <td>N/A</td>
                                        <td>N/A</td>
                                        <td>
                                            <span class="status-badge status-inprocess">En Proceso</span>
                                        </td>
                                        <td>Revisión inicial de la documentación</td>
                                    </tr>
                                    <tr>
                                        <td class="action-btns">
                                            <button class="btn btn-xs btn-info" title="Ver detalle"><i class="fa fa-eye"></i></button>
                                            <button class="btn btn-xs btn-warning" title="Editar"><i class="fa fa-pencil"></i></button>
                                        </td>
                                        <td>TKMM_PUEBLA_CM_AUTOTEK_MEXICO_BYD_V431_380D_010B_L02G_V_0.1</td>
                                        <td>AUTOTEK MEXICO</td>
                                        <td>8</td>
                                        <td>Asignado (3 días)</td>
                                        <td>Asignado (2 días)</td>
                                        <td>Pendiente</td>
                                        <td>Pendiente</td>
                                        <td>N/A</td>
                                        <td>N/A</td>
                                        <td>
                                            <span class="status-badge status-inprocess">En Proceso</span>
                                        </td>
                                        <td>Falta aprobación de costos</td>
                                    </tr>
                                    <tr>
                                        <td class="action-btns">
                                            <button class="btn btn-xs btn-info" title="Ver detalle"><i class="fa fa-eye"></i></button>
                                            <button class="btn btn-xs btn-warning" title="Editar"><i class="fa fa-pencil"></i></button>
                                        </td>
                                        <td>TKMM_SILAO_CM_AUTOTEK_MEXICO_CAMIONES_V_0.1</td>
                                        <td>AUTOTEK MEXICO</td>
                                        <td>12</td>
                                        <td>N/A</td>
                                        <td>N/A</td>
                                        <td>Asignado (5 días)</td>
                                        <td>Asignado (3 días)</td>
                                        <td>Pendiente</td>
                                        <td>Pendiente</td>
                                        <td>
                                            <span class="status-badge status-hold">En Espera</span>
                                        </td>
                                        <td>Documento pendiente de revisión legal</td>
                                    </tr>
                                    <tr>
                                        <td class="action-btns">
                                            <button class="btn btn-xs btn-info" title="Ver detalle"><i class="fa fa-eye"></i></button>
                                            <button class="btn btn-xs btn-warning" title="Editar"><i class="fa fa-pencil"></i></button>
                                        </td>
                                        <td>TKMM_SALTILLO_CM_AUTOTEK_MEXICO_NO_AUTOMOTRIZ_V_0.1</td>
                                        <td>AUTOTEK MEXICO</td>
                                        <td>5</td>
                                        <td>Asignado (1 día)</td>
                                        <td>Asignado (1 día)</td>
                                        <td>N/A</td>
                                        <td>N/A</td>
                                        <td>Asignado (1 día)</td>
                                        <td>N/A</td>
                                        <td>
                                            <span class="status-badge status-finalized">Finalizada</span>
                                        </td>
                                        <td>Se aprobó la cotización final</td>
                                    </tr>

                                    @*
                                        Si quisieras iterar sobre Model (aunque sea sin filtros reales),
                                        podrías usar algo como:

                                        @foreach(var item in Model)
                                        {
                                            <tr>
                                                <td class="action-btns">
                                                    <button class="btn btn-xs btn-info" title="Ver detalle"><i class="fa fa-eye"></i></button>
                                                    <button class="btn btn-xs btn-warning" title="Editar"><i class="fa fa-pencil"></i></button>
                                                </td>
                                                <td>@item.ConcatQuoteID</td>
                                                <td>-- Cliente --</td>
                                                <td>-- Días en Proceso --</td>
                                                <td>-- Ingeniería --</td>
                                                <td>-- Data Management --</td>
                                                <td>-- Ventas --</td>
                                                <td>-- Compras MP --</td>
                                                <td>-- Compras Insumos --</td>
                                                <td>-- Comercio Ext. --</td>
                                                <td><span class="status-badge status-inprocess">-- Estatus --</span></td>
                                                <td>@item.Comments</td>
                                            </tr>
                                        }

                                    *@
                                </tbody>
                            </table>
                        </div>

                        <!-- Ejemplo de "código de colores" para los estatus -->
                        <div class="color-code-box">
                            <strong>Código de Estatus:</strong><br />
                            <span class="color-code-item">
                                <span class="color-code-square" style="background-color: #f0ad4e;"></span>
                                En Proceso
                            </span>
                            <span class="color-code-item">
                                <span class="color-code-square" style="background-color: #5cb85c;"></span>
                                Finalizada
                            </span>
                            <span class="color-code-item">
                                <span class="color-code-square" style="background-color: #d9534f;"></span>
                                En Espera
                            </span>
                            <span class="color-code-item">
                                <span class="color-code-square" style="background-color: #5bc0de;"></span>
                                Otro
                            </span>
                        </div>

                    </div> <!-- x_content -->
                </div> <!-- x_panel -->
            </div> <!-- col -->
        </div> <!-- row -->
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            // Aquí puedes agregar funcionalidad adicional si es necesario
            // Ej: mostrar/ocultar código de colores al hacer click en el botón correspondiente, etc.
        });
    </script>
}
