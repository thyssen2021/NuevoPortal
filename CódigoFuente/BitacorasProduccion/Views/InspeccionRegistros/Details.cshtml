@model Portal_2_0.Models.produccion_registros

@{
    ViewBag.Title = "Detalles de Piezas de Descarte";
    ViewBag.PrimerNivel = "Inspeccion";
    ViewBag.SegundoNivel = "Inspeccion_registro";
    ViewBag.ControllerName = "InspeccionRegistros";

}

<meta http-equiv="Expires" content="0">
<meta http-equiv="Last-Modified" content="0">
<meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
<meta http-equiv="Pragma" content="no-cache">

@section estilos
{
    <!-- DataTables -->
    @Styles.Render("~/Content/dataTables_css")
    <!-- SweetAlert2 -->
    <link href="@Url.Content("~/Content/vendors/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css")" rel="stylesheet">
    <!-- Select2 -->
    <link href="@Url.Content("~/Content/vendors/select2/css/select2.css")" rel="stylesheet">
    <link href="@Url.Content("~/Content/vendors/select2-bootstrap4-theme/select2-bootstrap4.min.css")" rel="stylesheet">

    <style>

        dl {
            border: 3px double #ccc;
            padding: 0.5em;
            background-color: #fffdf0
        }

        dt {
            font-weight: bold;
            color: green;
        }

        dd {
            font-weight: bold;
            color: #454545;
        }

        dt::after {
            content: ":";
        }

        .fondo_verde > td {
            background-color: green;
            color: #fffdf0;
            font-weight: bolder;
        }

        .fondo_amarillo > td {
            background-color: orange;
            color: #221f1f;
            font-weight: bolder;
        }

        .fondo_rojo > td {
            background-color: red;
            color: #fffdf0;
            font-weight: bolder;
        }
    </style>
}



<div class="right_col" role="main">
    <div class="">
        <div class="clearfix"></div>
        <div class="row">
            <div class="col-md-12 col-sm-12  ">
                <div class="x_panel">
                    <div class="x_title">
                        <h2>@ViewBag.pagina</h2>
                        <ul class="nav navbar-right panel_toolbox">
                            @*Utilizado para mover a la derecha los iconos del card*@
                            <span style="visibility:hidden">_______</span>
                            <li>
                                <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="card-box ">

                                    <dl class="row">
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.id_supervisor)</dt>
                                        <dd class="col-sm-10">@Model.produccion_supervisores.empleados.ConcatNombre</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.id_operador)</dt>
                                        <dd class="col-sm-10">@Model.produccion_operadores.empleados.ConcatNombre</dd>
                                        <dt class="col-sm-2">Planta</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.plantas.descripcion)</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.id_linea)</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.produccion_lineas.linea)</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.fecha)</dt>
                                        <dd class="col-sm-2">@Model.fecha</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.id_turno)</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.produccion_turnos.descripcion)</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.sap_platina)</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.sap_platina)</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.sap_rollo)</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.sap_rollo)</dd>
                                        <dt class="col-sm-2">@Html.DisplayNameFor(model => model.Class_asociado.Customer_part_number)</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.Class_asociado.Customer_part_number)</dd>
                                        <dt class="col-sm-2">Material</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.MM_asociado.Type_of_Material)</dd>
                                        <dt class="col-sm-2">Peso Neto Unitario</dt>
                                        <dd class="col-sm-2">@Html.DisplayFor(model => model.produccion_datos_entrada.peso_real_pieza_neto)</dd>
                                    </dl>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="x_panel">
                    <div class="x_title">
                        <h2>Datos del registro</h2>
                        <div class="clearfix"></div>
                    </div>
                    <div class="x_content">
                        <br />


                        <div class="form-group row">
                            <span style="color:black"><b>INSPECTOR</b></span>
                        </div>

                        <div class="form-group row">
                            @if (Model.inspeccion_datos_generales != null && Model.inspeccion_datos_generales.empleados != null)
                            {
                                @Html.LabelFor(model => model.inspeccion_datos_generales.id_empleado_inspector, new { @class = "control-label col-md-2" })
                                <div class="col-md-7">
                                    <input type="text" id="tipo_material" class="form-control col-md-12" value="@Model.inspeccion_datos_generales.empleados.ConcatNombre" readonly>
                                </div>
                            }
                            else
                            {
                                @Html.LabelFor(model => model.inspeccion_datos_generales.id_empleado_inspector, new { @class = "control-label col-md-2" })
                                <div class="col-md-7">
                                    <input type="text" id="tipo_material" class="form-control col-md-12" value="NO DISPONIBLE" readonly>
                                </div>
                            }


                        </div>

                        <div class="ln_solid"></div>
                        <div class="form-group row">
                            <span style="color:black"><b>PIEZAS DE DESCARTE</b></span>
                        </div>

                        <div id="div_fallas">
                            <table id="datatable_2" class="table table-striped table-bordered " cellspacing="0" width="100%">
                                <thead style="background-color: #0094ff; color: azure;">
                                    <tr>
                                        <th>
                                            Categoria
                                        </th>
                                        <th>
                                            Tipo de Falla
                                        </th>
                                        <th>
                                            Cantidad
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @foreach (Portal_2_0.Models.inspeccion_pieza_descarte_produccion pieza_descarte in Model.inspeccion_pieza_descarte_produccion)
                                    {
                                        <tr>
                                            <td>
                                                @pieza_descarte.inspeccion_fallas.inspeccion_categoria_fallas.descripcion
                                            </td>
                                            <td>
                                                @pieza_descarte.inspeccion_fallas.descripcion
                                            </td>
                                            <td>
                                                @pieza_descarte.cantidad
                                            </td>
                                        </tr>
                                    }
                                </tbody>
                            </table>

                        </div>

                        <div class="form-group row">

                        </div>
                        <div class="ln_solid"></div>
                        <div class="form-group row">
                            <span style="color:black"><b>RESUMEN</b></span>
                        </div>

                        <div id="div_fallas">
                            <table id="datatable_2" class="table table-striped table-bordered " cellspacing="0" width="100%">
                                <thead style="background-color: #0094ff; color: azure;">
                                    <tr>
                                        <th>
                                            Piezas de Producci&oacute;n
                                        </th>
                                        <th>
                                            Piezas da&ntilde;o interno
                                        </th>
                                        <th>
                                            Piezas da&ntilde;o externo
                                        </th>
                                        <th>
                                            Peso Neto Unitario
                                        </th>
                                        <th>
                                            Total kg NG (interno)
                                        </th>
                                        <th>
                                            Total kg NG (externo)
                                        </th>
                                        <th>
                                            Peso Total Piezas OK
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                 
                                    <tr id="fila_balance_scrap">
                                        <td>
                                            @Model.TotalPiezasProduccion()
                                        </td>
                                        <td>
                                            @Model.NumPiezasDescarteDanoInterno()
                                        </td>
                                        <td>
                                            @Model.NumPiezasDescarteDanoExterno()
                                        </td>
                                        <td>
                                            @Model.produccion_datos_entrada.peso_real_pieza_neto
                                        </td>
                                        <td>
                                            @Model.produccion_datos_entrada.TotalKgNGInterno()
                                        </td>
                                        <td>
                                            @Model.produccion_datos_entrada.TotalKgNGExterno()
                                        </td>
                                        <td>
                                            @Html.DisplayFor(model => model.produccion_datos_entrada.PesoRegresoRolloUsado)
                                        </td>
                                    </tr>
                                    
                                </tbody>
                            </table>

                        </div>

                        <div class="ln_solid"></div>
                        <div class="form-group row">
                            @Html.LabelFor(model => model.inspeccion_datos_generales.comentarios, new { @class = "control-label col-md-3 col-sm-3" })
                            <div class="col-md-12 col-sm-12 ">
                                @Html.TextAreaFor(model => model.inspeccion_datos_generales.comentarios, new { @class = "form-control", @rows = "4", @autocomplete = "off", @readonly = "readonly" })
                            </div>
                        </div>

                        <div>
                            <br />

                            <a onclick="volverAtras()" class="btn btn-round btn-info" title="Volver" style="color:white">
                                <i class="fa fa-arrow-circle-left"></i> Volver al listado
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        @section Scripts {
            <!-- SweetAlert2 -->
            @Scripts.Render(Url.Content("~/Content/vendors/sweetalert2/sweetalert2.min.js"))
            @Scripts.Render(Url.Content("~/Content/vendors/select2/js/select2.full.min.js"))
            @Scripts.Render("~/bundles/jqueryval")
            @Scripts.Render("~/bundles/dataTables_js")
            @Scripts.Render(Url.Content("~/Scripts/AlertasSweetAlert.js"))
            @*@Scripts.Render(Url.Content("~/Scripts/Forms/datosEntrada.js"))*@
           
        }



